@(word: Word)

@import helper._

@main {
    
    <h1>Word: @word.text</h1>
    
    @if(flash.containsKey("success")) {
        <div class="alert-message warning">
            <strong>Done!</strong> @flash.get("success")
        </div>
    }

    <p><b>Braille</b>: <span class="braille">@word.braille</span></p>
    <p><b>Expected</b>: <span class="braille">@word.expected</span></p>
    <p><b>Applied rules</b>:</p>
    <table>
        <body>
            @for(rule <- word.getAppliedRules()) {
                <tr>
                    <td>
                        @form(routes.Application.toggleRule(word.id)) {
                            <input type="hidden" name="id" value="@rule.id"/>
                            <input type="checkbox" onclick="parentNode.submit()" name="enabled" title="Toggle rule"
                                @if(rule.isReadOnly()) { disabled="disabled" }
                                @if(rule.enabled) { checked="checked" } />
                        }
                    </td>
                    <td>
                        <span class="braille">@rule</span>
                    </td>
                </tr>
            }
        </body>
    </table>

    <p><b>Other rules</b>:</p>
    <table>
        <body>
            @for(rule <- word.getUnappliedRules()) {
                <tr>
                    <td>
                        @form(routes.Application.toggleRule(word.id)) {
                            <input type="hidden" name="id" value="@rule.id"/>
                            <input type="checkbox" onclick="parentNode.submit()" name="enabled" title="Toggle rule"
                                @if(rule.isReadOnly()) { disabled="disabled" }
                                @if(rule.enabled) { checked="checked" } />
                        }
                    </td>
                    <td>
                        <span class="braille">@rule</span>
                    </td>
                </tr>
            }
        </body>
    </table>

    <form action="@routes.Application.index()" method="GET">
        <div class="actions">
            <input type="submit" value="Apply changes"> or 
            <a href="@routes.Application.cancelChanges()" class="btn">Cancel</a>
        </div>
    </form>
}
